{% extends "base.html" %}

{% block title %}Negocio {{ negocio.nombre_fantasia }} - Superadmin{% endblock %}

{% block content %}

<section class="bg-white rounded-2xl shadow-sm border border-slate-100 p-4 sm:p-6 max-w-3xl mx-auto">

    <!-- Encabezado -->
    <header class="flex flex-col gap-2 mb-6">
        <h1 class="text-lg sm:text-xl font-semibold text-slate-900">
            {{ negocio.nombre_fantasia }}
        </h1>
        <p class="text-xs sm:text-sm text-slate-500">
            Gestión del plan, estado y capacidades del negocio.
        </p>

        <div class="flex flex-wrap gap-2 pt-1">
            <span class="inline-flex items-center px-2 py-0.5 rounded-full border border-slate-200 bg-slate-50 text-[11px] font-medium text-slate-600">
                ID {{ negocio.id }}
            </span>

            <span class="inline-flex items-center px-2 py-0.5 rounded-full border border-indigo-200 bg-indigo-50 text-[11px] font-medium text-indigo-700">
                Plan: {{ negocio.plan_tipo|upper }}
            </span>

            <span class="inline-flex items-center px-2 py-0.5 rounded-full border border-emerald-200 bg-emerald-50 text-[11px] font-medium text-emerald-700">
                Estado: {{ negocio.estado|capitalize }}
            </span>
        </div>
    </header>

    <!-- Formulario -->
    <form action="/superadmin/negocios/{{ negocio.id }}/update" method="post" class="space-y-5">

        <!-- PLAN -->
        <div class="space-y-1.5">
            <label class="text-xs font-semibold text-slate-700">Plan</label>
            <select id="plan_tipo"
                    name="plan_tipo"
                    class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900
                       focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                {% for p in planes %}
                <option value="{{ p }}" {% if negocio.plan_tipo == p %}selected{% endif %}>
                    {{ p|upper }}
                </option>
                {% endfor %}
            </select>
            <p class="text-[11px] text-slate-500">
                Afecta límites de usuarios, productos y operaciones.
            </p>
        </div>

        <!-- ESTADO -->
        <div class="space-y-1.5">
            <label class="text-xs font-semibold text-slate-700">Estado</label>
            <select id="estado"
                    name="estado"
                    class="w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900
                       focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                <option value="activo" {% if negocio.estado == "activo" %}selected{% endif %}>Activo</option>
                <option value="suspendido" {% if negocio.estado == "suspendido" %}selected{% endif %}>Suspendido</option>
            </select>
            <p class="text-[11px] text-slate-500">
                Un negocio suspendido no permite iniciar sesión a sus usuarios.
            </p>
        </div>

        <!-- ACCIONES -->
        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 pt-4 border-t border-slate-100">
            <a href="/superadmin/negocios"
               class="inline-flex justify-center items-center px-4 py-2 rounded-xl text-xs font-medium
                      border border-slate-200 text-slate-700 bg-white hover:bg-slate-50">
                Cancelar
            </a>

            <button type="submit"
                    class="inline-flex justify-center items-center px-4 py-2 rounded-xl text-xs font-semibold
                           text-white bg-indigo-600 hover:bg-indigo-700 shadow-sm active:scale-[0.98]">
                Guardar cambios
            </button>
        </div>

        <!-- ⚠️ FUTURO (opción de "Ver como negocio") -->
        <!-- Aquí después podemos insertar un botón tipo:
        <a href="/superadmin/negocios/{{ negocio.id }}/switch"
           class="text-[11px] text-indigo-600 hover:text-indigo-700 font-medium">
            Ver como este negocio
        </a>
        -->
    </form>

</section>

{% endblock %}
